<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <title>محاسبه قیمت خروج و حد ضرر</title>
     <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="container">
      <h1>محاسبه‌گر آپشن</h1>
      <hr>

      <label for="premium">پریمیوم (قیمت خرید به تومان):</label>
      <input type="number" id="premium" placeholder="مثال: 1500" />

      <label for="targetProfit">درصد سود هدف از پوزیشن (%):</label>
      <input type="number" id="targetProfit" placeholder="مثال: 2" />

      <label for="stopLoss">درصد حد ضرر از پوزیشن (%):</label>
      <input type="number" id="stopLoss" placeholder="مثال: 1" />

      <button onclick="calculate()">محاسبه</button>

      <div class="result" id="result" style="display: none">
        <p>
          <strong>اسپرد برای یک قرارداد:</strong>
          <span id="spread"></span> تومان
        </p>
        <p>
          <strong>قیمت فروش هدف (با احتساب اسپرد):</strong>
          <span id="targetPrice"></span> تومان
        </p>
        <p>
          <strong>قیمت حد ضرر (با احتساب اسپرد):</strong>
          <span id="stopLossPrice"></span> تومان
        </p>
      </div>
    </div>

    <script>
      function calculate() {
        var premium = parseFloat(document.getElementById("premium").value);
        var targetProfit = parseFloat(
          document.getElementById("targetProfit").value
        );
        var stopLoss = parseFloat(document.getElementById("stopLoss").value);

        if (isNaN(premium) || isNaN(targetProfit) || isNaN(stopLoss)) {
          alert("لطفاً تمام فیلدها را به‌درستی پر کنید.");
          return;
        }

        var spread = 0.00103 * premium; // فقط برای یک قرارداد
        var targetPrice = premium * (1 + targetProfit / 100) + spread;
        var stopLossPrice = premium * (1 - stopLoss / 100) - spread;

        document.getElementById("spread").textContent = spread.toFixed(2);
        document.getElementById("targetPrice").textContent =
          targetPrice.toFixed(2);
        document.getElementById("stopLossPrice").textContent =
          stopLossPrice.toFixed(2);
        document.getElementById("result").style.display = "block";
      }
    </script>
  </body>
</html>
